# Job id 0
# Devices visible to TensorFlow: [_DeviceAttributes(/job:localhost/replica:0/task:0/device:CPU:0, CPU, 268435456, 8100745606971115540), _DeviceAttributes(/job:localhost/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 17179869184, 14059056049908304074)]
# Vocab file /home/bcc/thcf16/tmp/iwslt15/vocab.de exists
# Vocab file /home/bcc/thcf16/tmp/iwslt15/vocab.en exists
  saving hparams to tmp/nmt_attention_model_DE_s100_l2_u128/hparams
  saving hparams to tmp/nmt_attention_model_DE_s100_l2_u128/best_bleu/hparams
  attention=scaled_luong
  attention_architecture=standard
  avg_ckpts=False
  batch_size=128
  beam_width=0
  best_bleu=0
  best_bleu_dir=tmp/nmt_attention_model_DE_s100_l2_u128/best_bleu
  check_special_token=True
  colocate_gradients_with_ops=True
  coverage_penalty_weight=0.0
  decay_scheme=
  dev_prefix=/home/bcc/thcf16/tmp/iwslt15/newstest2012
  dropout=0.2
  embed_prefix=None
  encoder_type=uni
  eos=</s>
  epoch_step=0
  forget_bias=1.0
  infer_batch_size=32
  infer_mode=greedy
  init_op=uniform
  init_weight=0.1
  language_model=False
  learning_rate=1.0
  length_penalty_weight=0.0
  log_device_placement=False
  max_gradient_norm=5.0
  max_train=0
  metrics=['bleu']
  num_buckets=5
  num_dec_emb_partitions=0
  num_decoder_layers=2
  num_decoder_residual_layers=0
  num_embeddings_partitions=0
  num_enc_emb_partitions=0
  num_encoder_layers=2
  num_encoder_residual_layers=0
  num_gpus=1
  num_inter_threads=0
  num_intra_threads=0
  num_keep_ckpts=5
  num_sampled_softmax=0
  num_train_steps=100
  num_translations_per_input=1
  num_units=128
  optimizer=sgd
  out_dir=tmp/nmt_attention_model_DE_s100_l2_u128
  output_attention=True
  override_loaded_hparams=False
  pass_hidden_state=True
  random_seed=None
  residual=False
  sampling_temperature=0.0
  share_vocab=False
  sos=<s>
  src=de
  src_embed_file=
  src_max_len=50
  src_max_len_infer=None
  src_vocab_file=/home/bcc/thcf16/tmp/iwslt15/vocab.de
  src_vocab_size=50000
  steps_per_external_eval=None
  steps_per_stats=100
  subword_option=
  test_prefix=/home/bcc/thcf16/tmp/iwslt15/newstest2013
  tgt=en
  tgt_embed_file=
  tgt_max_len=50
  tgt_max_len_infer=None
  tgt_vocab_file=/home/bcc/thcf16/tmp/iwslt15/vocab.en
  tgt_vocab_size=50000
  time_major=True
  train_prefix=/home/bcc/thcf16/tmp/iwslt15/train
  unit_type=lstm
  use_char_encode=False
  vocab_prefix=/home/bcc/thcf16/tmp/iwslt15/vocab
  warmup_scheme=t2t
  warmup_steps=0
# Creating train graph ...
# Build a basic encoder
  num_layers = 2, num_residual_layers=0
  cell 0  LSTM, forget_bias=1  DropoutWrapper, dropout=0.2   DeviceWrapper, device=/gpu:0
  cell 1  LSTM, forget_bias=1  DropoutWrapper, dropout=0.2   DeviceWrapper, device=/gpu:0
  cell 0  LSTM, forget_bias=1  DropoutWrapper, dropout=0.2   DeviceWrapper, device=/gpu:0
  cell 1  LSTM, forget_bias=1  DropoutWrapper, dropout=0.2   DeviceWrapper, device=/gpu:0
  learning_rate=1, warmup_steps=0, warmup_scheme=t2t
  decay_scheme=, start_decay_step=100, decay_steps 0, decay_factor 1
# Trainable variables
Format: <name>, <shape>, <(soft) device placement>
  embeddings/encoder/embedding_encoder:0, (50000, 128), /device:GPU:0
  embeddings/decoder/embedding_decoder:0, (50000, 128), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_0/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_0/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_1/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_1/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/memory_layer/kernel:0, (128, 128), 
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_0/basic_lstm_cell/kernel:0, (384, 512), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_0/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_1/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_1/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/attention/luong_attention/attention_g:0, (), /device:GPU:0
  dynamic_seq2seq/decoder/attention/attention_layer/kernel:0, (256, 128), /device:GPU:0
  dynamic_seq2seq/decoder/output_projection/kernel:0, (128, 50000), /device:GPU:0
# Creating eval graph ...
# Build a basic encoder
  num_layers = 2, num_residual_layers=0
  cell 0  LSTM, forget_bias=1  DeviceWrapper, device=/gpu:0
  cell 1  LSTM, forget_bias=1  DeviceWrapper, device=/gpu:0
  cell 0  LSTM, forget_bias=1  DeviceWrapper, device=/gpu:0
  cell 1  LSTM, forget_bias=1  DeviceWrapper, device=/gpu:0
# Trainable variables
Format: <name>, <shape>, <(soft) device placement>
  embeddings/encoder/embedding_encoder:0, (50000, 128), /device:GPU:0
  embeddings/decoder/embedding_decoder:0, (50000, 128), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_0/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_0/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_1/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_1/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/memory_layer/kernel:0, (128, 128), 
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_0/basic_lstm_cell/kernel:0, (384, 512), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_0/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_1/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_1/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/attention/luong_attention/attention_g:0, (), /device:GPU:0
  dynamic_seq2seq/decoder/attention/attention_layer/kernel:0, (256, 128), /device:GPU:0
  dynamic_seq2seq/decoder/output_projection/kernel:0, (128, 50000), /device:GPU:0
# Creating infer graph ...
# Build a basic encoder
  num_layers = 2, num_residual_layers=0
  cell 0  LSTM, forget_bias=1  DeviceWrapper, device=/gpu:0
  cell 1  LSTM, forget_bias=1  DeviceWrapper, device=/gpu:0
  cell 0  LSTM, forget_bias=1  DeviceWrapper, device=/gpu:0
  cell 1  LSTM, forget_bias=1  DeviceWrapper, device=/gpu:0
  decoder: infer_mode=greedybeam_width=0, length_penalty=0.000000, coverage_penalty=0.000000
# Trainable variables
Format: <name>, <shape>, <(soft) device placement>
  embeddings/encoder/embedding_encoder:0, (50000, 128), /device:GPU:0
  embeddings/decoder/embedding_decoder:0, (50000, 128), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_0/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_0/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_1/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/encoder/rnn/multi_rnn_cell/cell_1/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/memory_layer/kernel:0, (128, 128), 
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_0/basic_lstm_cell/kernel:0, (384, 512), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_0/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_1/basic_lstm_cell/kernel:0, (256, 512), /device:GPU:0
  dynamic_seq2seq/decoder/attention/multi_rnn_cell/cell_1/basic_lstm_cell/bias:0, (512,), /device:GPU:0
  dynamic_seq2seq/decoder/attention/luong_attention/attention_g:0, (), /device:GPU:0
  dynamic_seq2seq/decoder/attention/attention_layer/kernel:0, (256, 128), /device:GPU:0
  dynamic_seq2seq/decoder/output_projection/kernel:0, (128, 50000), 
# log_file=tmp/nmt_attention_model_DE_s100_l2_u128/log_1574790540
  created train model with fresh parameters, time 0.19s
  created infer model with fresh parameters, time 0.12s
  # 1188
    src: Zunächst war ein 18 ##AT##-##AT## Jähriger , der sich auffällig für die Löscharbeiten interessierte , festgenommen worden , wie es hieß .
    ref: An 18 ##AT##-##AT## year ##AT##-##AT## old who had shown conspicuous interest in the fire ##AT##-##AT## fighting operation was initially arrested .
    nmt: superfluous superfluous ESM ESM ESM christian christian christian christian pressed pressed pressed pressed pressed pressed cui cui Revenue Revenue Revenue tolls tolls tolls Theato GOOD GOOD GOOD Plateau Plateau Plateau hazy hppa hppa hppa hppa dislike dislike dislike dislike dislike dislike dislike Scenic Scenic
  created eval model with fresh parameters, time 0.12s
  eval dev: perplexity 49977.65, time 33s, Tue Nov 26 14:49:34 2019.
  eval test: perplexity 49979.08, time 28s, Tue Nov 26 14:50:02 2019.
  created infer model with fresh parameters, time 0.17s
# Start step 0, lr 1, Tue Nov 26 14:50:03 2019
# Init train iterator, skipping 0 elements
  step 100 lr 1 step-time 2.52s wps 2.41K ppl 200068.11 gN 137.56 bleu 0.00, Tue Nov 26 14:54:14 2019
  loaded infer model parameters from tmp/nmt_attention_model_DE_s100_l2_u128/translate.ckpt-100, time 0.81s
  # 1200
    src: Wie die Polizei weiter mitteilte , konnte wenig später ein 19 ##AT##-##AT## Jähriger unter Tatverdacht festgenommen werden .
    ref: The police announced in a statement that one 19 ##AT##-##AT## year ##AT##-##AT## old has been arrested subsequently on suspicion .
    nmt: When <unk> ,
  loaded eval model parameters from tmp/nmt_attention_model_DE_s100_l2_u128/translate.ckpt-100, time 0.08s
  eval dev: perplexity 4857.84, time 33s, Tue Nov 26 14:54:50 2019.
  eval test: perplexity 4510.77, time 28s, Tue Nov 26 14:55:19 2019.
  loaded infer model parameters from tmp/nmt_attention_model_DE_s100_l2_u128/translate.ckpt-100, time 0.07s
# External evaluation, global step 100
  decoding to output tmp/nmt_attention_model_DE_s100_l2_u128/output_dev
  done, num sentences 3003, num translations per input 1, time 5s, Tue Nov 26 14:55:25 2019.
  bleu dev: 0.0
  saving hparams to tmp/nmt_attention_model_DE_s100_l2_u128/hparams
# External evaluation, global step 100
  decoding to output tmp/nmt_attention_model_DE_s100_l2_u128/output_test
  done, num sentences 3000, num translations per input 1, time 5s, Tue Nov 26 14:55:31 2019.
  bleu test: 0.0
  saving hparams to tmp/nmt_attention_model_DE_s100_l2_u128/hparams
# Final, step 100 lr 1 step-time 2.52s wps 2.41K ppl 200068.11 gN 137.56 dev ppl 4857.84, dev bleu 0.0, test ppl 4510.77, test bleu 0.0, Tue Nov 26 14:55:31 2019
# Done training!, time 328s, Tue Nov 26 14:55:31 2019.
# Start evaluating saved best models.
  created infer model with fresh parameters, time 0.11s
  # 1482
    src: &quot; Ich wünschte , ich hätte auf mein Bauchgefühl gehört . &quot;
    ref: &quot; I wish I had listened to my instincts . &quot;
    nmt: adult adult lax counsels tannins weit weit prices rotations rotations shambles agendas agendas brilliant brilliant brilliant brilliant brilliant brilliant agendas agendas vaccination Tv bookstores
  created eval model with fresh parameters, time 0.12s
  eval dev: perplexity 49999.66, time 34s, Tue Nov 26 14:56:06 2019.
  eval test: perplexity 49996.49, time 28s, Tue Nov 26 14:56:35 2019.
  created infer model with fresh parameters, time 0.12s
  bleu dev: 0.0
  bleu test: 0.0
# Best bleu, step 0 lr 1 step-time 2.52s wps 2.41K ppl 200068.11 gN 137.56 dev ppl 49999.66, dev bleu 0.0, test ppl 49996.49, test bleu 0.0, Tue Nov 26 14:56:36 2019
